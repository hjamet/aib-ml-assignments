<!-- 69981531-f8c4-496a-bfff-ecdf8ae4717f 46d5def0-f5e7-44fa-b59a-2b8c4c1c6eb9 -->
# Suppression des Indicateurs d'Overfitting

## Objectif
Permettre aux étudiants de détecter l'overfitting par eux-mêmes en affichant séparément les performances sur les ensembles d'entraînement et de test, sans indicateur automatique.

## Modifications à effectuer

### 1. Mise à jour des fonctions d'évaluation (`src/utils/model_training.py`)

**Classification (`evaluate_classification_model`)** :
- Supprimer le calcul de `'Overfitting': train_score - test_score`
- Ajouter le calcul du F1-score pour train et test
- Calculer toutes les métriques (Accuracy, Precision, Recall, F1) pour train ET test séparément
- Retourner les métriques structurées : `Train Accuracy`, `Test Accuracy`, `Train Precision`, `Test Precision`, etc.

**Régression (`evaluate_regression_model`)** :
- Supprimer le calcul de `'Overfitting': train_score - test_score`
- Calculer RMSE et MAE pour train ET test séparément
- Retourner : `Train R²`, `Test R²`, `Train RMSE`, `Test RMSE`, `Train MAE`, `Test MAE`

### 2. Nouvelles fonctions d'affichage (`src/utils/ui_components.py`)

Créer `display_model_metrics_columns(result, problem_type)` pour remplacer `display_metrics_row` :
- Afficher le nom du modèle en titre
- Créer 2 colonnes : "Train Set" et "Test Set"
- **Colonne Train** (Classification) : Train Accuracy, Train Precision, Train Recall, Train F1-score
- **Colonne Test** (Classification) : Test Accuracy, Test Precision, Test Recall, Test F1-score
- **Colonne Train** (Régression) : Train R², Train RMSE, Train MAE
- **Colonne Test** (Régression) : Test R², Test RMSE, Test MAE

### 3. Graphiques de comparaison (`src/utils/visualization.py`)

**Supprimer** `create_comparison_chart` (qui contient le graphique Overfitting Analysis)

**Créer** `create_train_metrics_chart(results_df, problem_type)` :
- Graphique à barres des métriques sur le Train set
- Classification : barres pour Accuracy, Precision, Recall, F1 de chaque modèle
- Régression : barres pour R², RMSE, MAE de chaque modèle

**Créer** `create_test_metrics_chart(results_df, problem_type)` :
- Graphique à barres des métriques sur le Test set
- Même structure que le graphique Train

**Créer** `create_confusion_matrix_train_plot(cm_train)` :
- Matrice de confusion pour le Train set (classification uniquement)

### 4. Réorganisation de la page Classification (`src/pages/classification_page.py`)

Après la section "Hyperparameter Tuning" :
1. **Section "Model Performance Comparison"** : Pour chaque modèle, appeler `display_model_metrics_columns`
2. **Deux colonnes** :
   - **Colonne Train** : `create_train_metrics_chart` 
   - **Colonne Test** : `create_test_metrics_chart`
3. **Section "Best Model"** : Sélection basée uniquement sur Test Score
4. **Deux colonnes pour matrices de confusion** :
   - **Colonne Train** : Matrice de confusion sur train set
   - **Colonne Test** : Matrice de confusion sur test set (existant)
5. **Pleine largeur** : Feature importance, métriques détaillées

### 5. Réorganisation de la page Régression (`src/pages/regression_page.py`)

Après la section "Hyperparameter Tuning" :
1. **Section "Model Performance Comparison"** : Pour chaque modèle, appeler `display_model_metrics_columns`
2. **Deux colonnes** :
   - **Colonne Train** : `create_train_metrics_chart`
   - **Colonne Test** : `create_test_metrics_chart`
3. **Section "Best Model"** : Sélection basée uniquement sur Test Score
4. **Section "Regression Analysis"** : Graphiques existants (Actual vs Predicted, Residuals) en pleine largeur car ils concernent les deux ensembles
5. **Pleine largeur** : Feature importance si applicable

## Fichiers impactés
- `src/utils/model_training.py`
- `src/utils/ui_components.py`
- `src/utils/visualization.py`
- `src/pages/classification_page.py`
- `src/pages/regression_page.py`


### To-dos

- [ ] Modifier evaluate_classification_model et evaluate_regression_model pour supprimer Overfitting et ajouter métriques train/test séparées
- [ ] Créer display_model_metrics_columns dans ui_components.py pour affichage en deux colonnes
- [ ] Supprimer create_comparison_chart et créer create_train_metrics_chart et create_test_metrics_chart
- [ ] Réorganiser classification_page.py avec colonnes Train/Test et matrices de confusion séparées
- [ ] Réorganiser regression_page.py avec colonnes Train/Test